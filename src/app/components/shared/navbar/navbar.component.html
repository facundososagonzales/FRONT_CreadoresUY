<nav id="navbar-main" class="navbar navbar-main navbar-expand-lg navbar-transparent navbar-light headroom headroom--top headroom--pinned">
  <div class="container">
    <a class="navbar-brand mr-3" [routerLink]="['/home']">
      <img src="./assets/img/brand/argon-white.png">
    </a>
    <button class="navbar-toggler" type="button" (click)="isCollapsed = !isCollapsed"
          [attr.aria-expanded]="!isCollapsed" aria-controls="navbar_global">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-collapse collapse" id="navbar_global" [ngbCollapse]="isCollapsed">
      <div class="navbar-collapse-header">
        <div class="row">
          <div class="col-6 collapse-brand">
            <a [routerLink]="['/home']">
              <img src="./assets/img/brand/blue.png">
            </a>
          </div>
          <div class="col-6 collapse-close">
            <button type="button" class="navbar-toggler" (click)="isCollapsed = !isCollapsed"
                  [attr.aria-expanded]="!isCollapsed" aria-controls="navbar_global">
              <span></span>
              <span></span>
            </button>
          </div>
        </div>
      </div>
      <ul class="navbar-nav align-items-lg-center ml-lg-auto">
        <li class="nav-item d-none d-lg-block ml-lg-1">
          <div [ngClass]="{'focused':focus===true}">
            <div class="input-group ">
              <div class="input-group-prepend">
                <span class="input-group-text">
                  <mat-icon aria-hidden="false" aria-label="Example home icon">search</mat-icon>
                </span>
              </div>
              <input class="form-control" placeholder="Buscar..." type="search" (focus)="focus=true" (blur)="focus=false">
            </div>
          </div>
        </li>
        <li *ngIf="getToken()==null" class="nav-item d-none d-lg-block ml-lg-1">
          <a [routerLink]="['/login']">
            <button mat-raised-button>
              <i class="bi bi-person-circle align-middle"></i>
              <span class="nav-link-inner--text align-middle"> Iniciar Sesión</span>
            </button> 
          </a>
        </li>
        <li *ngIf="getToken()!=null && getUserType()==='admin'" class="nav-item d-none d-lg-block ml-lg-1 profile-nav">
          <div class="profile-header-container">
            <div [matMenuTriggerFor]="beforeMenu">
              <div class="profile-header-img">
                <img class="img-fluid img-circle rounded-circle" src="./assets/img/theme/team-4-800x800.png"/>
                <small style="margin-left: 12px;">{{getName()}}</small>
              </div>
            </div>
            <mat-menu #beforeMenu="matMenu" xPosition="before">
              <a mat-menu-item [routerLink]="['/creador-Register']">Alta Creador</a>
              <a mat-menu-item [routerLink]="['/feed']">Publicaciones</a>
              <a mat-menu-item [routerLink]="['/home']">Inicio</a>              
              <a mat-menu-item [routerLink]="['/logout']">Cerrar sesión</a>
            </mat-menu>
          </div>
        </li>
        <li *ngIf="getToken()!=null && getUserType()==='creator'" class="nav-item d-none d-lg-block ml-lg-1">
          <div class="profile-header-container">
            <div [matMenuTriggerFor]="beforeMenu">
              <div class="profile-header-img">
                <img class="img-fluid img-circle rounded-circle" src="./assets/img/theme/team-4-800x800.png"/>
                <small style="margin-left: 12px;">{{getName()}}</small>
              </div>
            </div>
            <mat-menu #beforeMenu="matMenu" xPosition="before">
              <a mat-menu-item [routerLink]="['/creator-Profile',getNickname()]">Mi Perfil</a>
              <a mat-menu-item [routerLink]="['/feed']">Publicaciones</a>
              <a mat-menu-item [routerLink]="['/createPost']">Crear Publicación</a>
              <a mat-menu-item [routerLink]="['/logout']">Cerrar sesión</a>
            </mat-menu>
          </div>
        </li>
        <li *ngIf="getToken()!=null && getUserType()==='user'" class="nav-item d-none d-lg-block ml-lg-1">
          <div class="profile-header-container">
            <div [matMenuTriggerFor]="beforeMenu">
              <div class="profile-header-img">
                <img class="img-fluid img-circle rounded-circle" src="./assets/img/theme/team-4-800x800.png"/>
                <small style="margin-left: 12px;">{{getName()}}</small>
              </div>
            </div>
            <mat-menu #beforeMenu="matMenu" xPosition="before">
              <a mat-menu-item [routerLink]="['/creador-Register']">Alta Creador</a>
              <a mat-menu-item [routerLink]="['/feed']">Publicaciones</a>
              <a mat-menu-item [routerLink]="['/logout']">Cerrar sesión</a>
            </mat-menu>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
