<main class="profile-page">
  <section class="section-profile-cover">
    <!-- Circles background -->
    <img class="card-img-top" src="{{coverimg}}" alt="Card image cap">
    <!-- SVG separator -->
    <div class="separator separator-bottom separator-skew">
      <svg x="0" y="0" viewBox="0 0 2560 100" preserveAspectRatio="none" version="1.1" xmlns="http://www.w3.org/2000/svg">
        <polygon class="fill-white" points="2560 0 2560 100 0 100"></polygon>
      </svg>
    </div>
  </section>
  <section class="section">
    <div class="container cont">
      <div class="col-lg-10 col-12">
        <div class="card card-profile shadow mt--300">
          <div class="px-lg-4 px-2">
            <div class="row justify-content-center">
              <div class="col-lg-4">
                <div class="card-profile-stats d-flex justify-content-center">
                  <div>
                    <span class="heading">{{cantSubs}}</span>
                    <span class="description">Suscriptores</span>
                  </div>
                  <div>
                    <span class="heading">{{cantFollowers}}</span>
                    <span class="description">Seguidores</span>
                  </div>
                </div>
              </div>
              <div class="col-lg-3 my-5 my-lg-0 mx-sm-2 mx-0">
                <div class="card-profile-image">
                  <img src="{{img}}" class="img-fluid img-profile shadow">
                </div>
              </div>
              <div class="text-lg-right align-self-lg-center">
                <div class="card-profile-actions py-4 mt-lg-0 mt-5">
                  <button mat-stroked-button>Seguir</button>
                  <button mat-stroked-button>Enviar Mensaje</button>
                </div>
              </div>
            </div>
            <div class="text-center mt-3">
            <div class="col-12" ><h2 class="perfile-title">{{creatorName}}</h2></div>
              <div class="d-flex flex-row justify-content-center">
                <div class="col-11">
                  <blockquote> <p>{{descripcion}}</p>
                  </blockquote>
                </div>
              </div>
            </div>
            <hr>

            <h2 class="card-title" style="text-align: center; font-size:x-large;">¡Conoceme un poco más!</h2>
            <div class="card-deck shadow px-lg-2 py-lg-2 px-0 py-0">
              <div class="card biography">
                <iframe class="youtube-iframe" width="100%" height="315" src="https://www.youtube.com/embed/a3WnvDtDD2M?rel=0&amp;autoplay=1&mute=1&controls=0"
                frameborder="0" allowfullscreen  title="YouTube video player"></iframe><br>
                <div class="card-text card-text-style" [innerHTML]='biografia'></div>
              </div>
            </div>
          </div>
        </div>
        <div class="search-results" infinite-scroll
        [infiniteScrollDistance]="2"
        [infiniteScrollThrottle]="50"
        (scrolled)="onScroll()"
        >
          <div class="card card-border shadow mt-5">
            <h2 class="card-title mt-2" style="text-align: center; font-size:x-large;">Publicaciones de {{nickname}} </h2>
            <div *ngFor="let element of contentViwer; let i = index" [attr.data-index]="i">
              <div class="card-deck shadow">
                <div class="card card-m">
                  <img [ngClass]="{filt: !element['authorized']}" 
                  *ngIf="element['content']['img']!=''" class="card-img-top" 
                  src="{{element['content']['img']}}" alt="Card image cap">
                  <div class="card-body">
                      <h2 class="card-title">{{element['content']["title"]}}</h2>
                      <div *ngIf="element['authorized']" [ngClass]="{show: element['visible']}" class="description">
                        <p *ngIf="!element['visible']" class="card-text">{{ (element['content']['description'].length>240)? (element['content']['description'] | slice:0:240)+'...':(element['content']['description'])}}</p>
                        <p *ngIf="element['visible']" class="card-text">{{element['content']['description']}}</p>
                      </div><br>
                      <a *ngIf="element['authorized']" (click)="scrollToStart($event)" class="text-muted-publicadopor more" (click)="element['visible'] = !element['visible']" style="float: right;">{{ element['visible'] ? 'Mostrar menos': 'Mostrar más' }}</a>
                  </div>
                  <div class="card-footer">
                    <small class="text-muted">Fecha de publicacion: {{element['content']['addedDate'] | date:'short':'UTC'}}</small>
                    <a class="text-muted-publicadopor">{{element['content']['nickName']}}
                      <img src="./assets/img/theme/team-4-800x800.png" class="rounded-circle"
                      style="width: 20px; height: 20px; margin-left: 5px; float: right;">
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>